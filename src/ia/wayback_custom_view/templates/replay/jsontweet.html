<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Wayback Machine</title>
    <style type="text/css">
			body {
				margin:0;
				padding: 20px;
				background-color: #000;
				min-height: 100vh;
				box-sizing: border-box;
			}
      .notice {
        border: 2px solid #c9ae00;
        background-color: #ffff00;
        padding: 12px;
      }

      .tweet-container {
        font-family: Helvetica, Arial, sans-serif;
        padding: 12px 16px;
        border: 1px solid #cfd9de;
        border-radius: 12px;
        max-width: 600px;
        margin-top: 20px;
				margin-left: auto;
				margin-right: auto;
				background-color: white;
      }

      .tweet-author {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding-bottom: 0.75rem;
      }

      .tweet-author-profile-image img {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        margin-right: 5px;
      }

      .tweet-author-info {
        display: flex;
        flex-direction: column;
      }

      .tweet-author-name {
        font-weight: bold;
      }

      .tweet-content {
        font-size: 1.25rem;
      }

			.tweet-image {
				width: 100%;
				height: auto;
				margin-top: 12px;
				border-radius: 12px;
			}

			.embedded-tweet-container {
				box-sizing: border-box;
				margin-top: 12px;
				padding: 12px;
				border: 1px solid #cfd9de;
        border-radius: 12px;
				background-color: white;
				max-width: 100%;
			}
			.date {
				font-size: 0.75rem;
				color: #657786;
				margin-top: 12px;
			}
			.date a {
				color: #657786;
				text-decoration: none;
			}
			.date a:hover {
				text-decoration: underline;
			}
    </style>
  </head>
  <body>
    <section style="background-color:magenta;"">
      {% if error %}
      <div>error = {{ error }}</div>
      {% endif %}
      <div><p><strong>data:</strong> {{parsed_content}}</p]></div>
      <div><p><strong>wayback_url:</strong> {{wayback_url}}</p]></div>
    </section>
    {% if parsed_content %}
    {% set data = parsed_content %}
    <div class="notice">
      This is a page generated by the Internet Archiveâ€™s Wayback Machine from Twitter/X post data
    </div>
    <!-- {% set ddata = data %} -->
    <div class="tweet-container">
      <div class="tweet-content">{{context.cleantext(data) | replace('\n', '<br />') }}
      <p class="date"><a id="parentdate" href={{data.wayback_url}}></a></p>
      <script>
        console.log({{ data | tojson | safe }});
				var dateString = "{{ data.data.created_at }}";
				var date = new Date(dateString);
				document.querySelector("#parentdate").innerText = date;
      </script>
    </div>
    {% endif %}
  </body>
</html>
